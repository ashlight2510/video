<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>AutoCut Studio â€” ì˜ìƒ ìë™ í•˜ì´ë¼ì´íŠ¸/ì í”„ì»· (ê°€ë²¼ìš´ ì›¹)</title>

    <!-- SEO / OG -->
    <meta
      name="description"
      content="ì˜ìƒ ì—…ë¡œë“œë§Œ í•˜ë©´ ì¹¨ë¬µ êµ¬ê°„ì„ ê°ì§€í•´ í•˜ì´ë¼ì´íŠ¸ íƒ€ì„ë¼ì¸ì„ ìë™ ìƒì„±í•©ë‹ˆë‹¤. ì‡¼ì¸ ìš© êµ¬ê°„ ì¶”ì²œ + íƒ€ì„ìŠ¤íƒ¬í”„ ë‚´ë³´ë‚´ê¸°."
    />
    <meta
      name="keywords"
      content="ì˜ìƒ ìë™ í¸ì§‘, ì¹¨ë¬µ ì œê±°, ì í”„ì»·, í•˜ì´ë¼ì´íŠ¸ ì¶”ì¶œ, ì‡¼ì¸  ìƒì„±, íƒ€ì„ìŠ¤íƒ¬í”„, AutoCut"
    />
    <meta name="author" content="FunnyFunny" />
    <link rel="canonical" href="https://funnyfunny.cloud/" />

    <meta
      property="og:title"
      content="AutoCut Studio â€” ì˜ìƒ ìë™ í•˜ì´ë¼ì´íŠ¸/ì í”„ì»·"
    />
    <meta
      property="og:description"
      content="ì—…ë¡œë“œ â†’ ì¹¨ë¬µ ê°ì§€ â†’ í•˜ì´ë¼ì´íŠ¸ íƒ€ì„ë¼ì¸ ìë™ ìƒì„±. ê²°ê³¼ íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ ë°”ë¡œ ë³µì‚¬/ë‚´ë³´ë‚´ê¸°."
    />
    <!-- OG image: user preference -->
    <meta
      property="og:image"
      content="https://dummyimage.com/1200x630/0b1220/ffffff&text=AutoCut+Studio"
    />
    <meta property="og:image:alt" content="AutoCut Studio" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />

    <!-- Favicon -->
    <link
      rel="icon"
      type="image/svg+xml"
      href="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%3E%3Ctext%20y='0.9em'%20font-size='90'%3E%F0%9F%8E%AC%3C/text%3E%3C/svg%3E"
    />

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;700&display=swap");
      html,
      body {
        font-family: Pretendard, system-ui, -apple-system, Segoe UI, Roboto,
          Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      }
      .glass {
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.12);
        backdrop-filter: blur(10px);
      }
      .mono {
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
          "Liberation Mono", "Courier New", monospace;
      }
      .no-scrollbar::-webkit-scrollbar {
        display: none;
      }
      .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
    </style>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1204894220949193"
     crossorigin="anonymous"></script>
    <!-- responsive-base -->
    <style>
      /* responsive-base */
      *, *::before, *::after {
        box-sizing: border-box;
      }
      html {
        -webkit-text-size-adjust: 100%;
      }
      img,
      video,
      canvas,
      svg {
        max-width: 100%;
        height: auto;
      }
      table {
        width: 100%;
      }
      pre,
      code {
        white-space: pre-wrap;
        word-break: break-word;
      }
    </style>
  <style>
    .adsense-block {
      margin: 16px 0;
      display: flex;
      justify-content: center;
    }
    .adsbygoogle {
      display: block;
      margin: 16px auto;
    }
  </style>
</head>

  <body class="min-h-screen bg-slate-950 text-slate-100"><div class="absolute inset-0 -z-10">
      <div
        class="absolute -top-24 left-1/2 -translate-x-1/2 w-[900px] h-[900px] rounded-full blur-3xl opacity-30"
        style="
          background: radial-gradient(
              circle at 30% 30%,
              #22c55e,
              transparent 55%
            ),
            radial-gradient(circle at 70% 70%, #38bdf8, transparent 55%),
            radial-gradient(circle at 40% 80%, #a78bfa, transparent 55%);
        "
      ></div>
    </div>

    <!-- Top bar -->
    <header class="max-w-6xl mx-auto px-4 pt-6">
      <div class="flex items-center justify-between gap-3">
        <div class="flex items-center gap-3">
          <div
            class="w-10 h-10 rounded-2xl bg-white/10 border border-white/10 grid place-items-center"
          >
            ğŸ¬
          </div>
          <div>
            <div class="flex items-center gap-2">
              <div class="text-lg font-bold leading-tight">AutoCut Studio</div>
              <span
                class="text-[10px] font-semibold px-2 py-0.5 rounded-full bg-amber-400/20 text-amber-200 border border-amber-300/30"
              >
                BETA
              </span>
            </div>
            <div class="text-xs text-slate-300">
              ì—…ë¡œë“œ â†’ ì¹¨ë¬µ ê°ì§€ â†’ í•˜ì´ë¼ì´íŠ¸ íƒ€ì„ë¼ì¸ ìë™ ìƒì„±
            </div>
          </div>
        </div>

        <!-- ë‹¤ë¥¸ ì„œë¹„ìŠ¤ ë³´ê¸° (ê¸°ë³¸ í¬í•¨) -->
        <a
          href="https://funnyfunny.cloud/"
          target="_blank"
          rel="noopener"
          class="shrink-0 inline-flex items-center gap-2 rounded-2xl px-4 py-2 glass hover:bg-white/10 transition"
        >
          <span class="text-sm font-semibold">ë‹¤ë¥¸ ì„œë¹„ìŠ¤ ë³´ê¸°</span>
          <span class="opacity-80">â†—</span>
        </a>
      </div>
    </header>

    <main class="max-w-6xl mx-auto px-4 pb-16">
      <!-- Upload -->
      <section class="mt-6 glass rounded-3xl p-6">
        <div class="flex items-center justify-between gap-3 flex-wrap">
          <div>
            <div class="text-sm text-emerald-200 font-semibold">
              Step 1. ì˜ìƒ ì˜¬ë¦¬ê¸°
            </div>
            <h2 class="text-xl font-bold">íŒŒì¼ ë“œë˜ê·¸ or ì„ íƒ í›„ ìŠ¤ìº”</h2>
          </div>
          <span
            id="statusBadge"
            class="text-xs px-3 py-1 rounded-full bg-white/10 border border-white/10 text-slate-200"
          >
            ëŒ€ê¸°ì¤‘
          </span>
        </div>

        <div class="mt-4 flex flex-col gap-4 lg:flex-row">
          <div class="lg:w-5/12 space-y-3">
            <div
              id="dropZone"
              class="rounded-2xl border border-dashed border-white/15 bg-white/5 hover:bg-white/10 transition p-4 cursor-pointer"
            >
              <div class="flex items-center justify-between gap-3">
                <div>
                  <div class="text-sm font-semibold">
                    íŒŒì¼ì„ ë“œë˜ê·¸í•˜ê±°ë‚˜ ì„ íƒí•˜ì„¸ìš”
                  </div>
                  <div class="text-xs text-slate-400">
                    mp4, webm ë“± ì˜ìƒ íŒŒì¼ì„ ì˜¬ë ¤ì£¼ì„¸ìš”.
                  </div>
                </div>
                <button
                  id="fileSelectBtn"
                  type="button"
                  class="px-3 py-2 rounded-xl bg-white/10 border border-white/10 hover:bg-white/15 text-sm font-semibold shrink-0"
                >
                  íŒŒì¼ ì„ íƒ
                </button>
              </div>
              <input
                id="fileInput"
                type="file"
                accept="video/*"
                class="sr-only"
              />
            </div>
            <div id="fileMeta" class="text-xs text-slate-400">
              ì•„ì§ ì„ íƒëœ íŒŒì¼ì´ ì—†ì–´ìš”.
            </div>

            <div class="flex flex-wrap gap-2">
              <button
                id="scanBtn"
                class="px-4 py-3 rounded-2xl bg-emerald-500/20 border border-emerald-400/30 hover:bg-emerald-500/25 transition font-semibold"
              >
                ğŸ” ìŠ¤ìº” ì‹œì‘
              </button>
              <button
                id="stopBtn"
                disabled
                class="px-4 py-3 rounded-2xl bg-white/10 border border-white/10 hover:bg-white/15 transition font-semibold disabled:opacity-40"
              >
                â›” ì¤‘ì§€
              </button>
              <button
                id="demoBtn"
                class="px-4 py-3 rounded-2xl bg-white/10 border border-white/10 hover:bg-white/15 transition font-semibold"
              >
                ğŸ² ë°ëª¨ êµ¬ê°„ ìƒì„±
              </button>
            </div>

            <div class="rounded-2xl bg-white/5 border border-white/10 p-4">
              <div
                class="h-2 w-full rounded-full bg-white/10 overflow-hidden border border-white/10"
              >
                <div id="progressBar" class="h-full w-0 bg-white/40"></div>
              </div>
              <div
                class="mt-2 flex items-center justify-between text-xs text-slate-400"
              >
                <span id="progressText">0%</span>
                <span id="timeText">â€”</span>
              </div>
            </div>
          </div>

          <div class="lg:flex-1 grid grid-cols-2 gap-3">
            <div class="rounded-2xl bg-white/5 border border-white/10 p-4">
              <div class="text-sm font-semibold">ìŠ¤ìº” ì†ë„</div>
              <div class="mt-2 flex gap-2">
                <button
                  class="speedBtn px-3 py-2 rounded-xl bg-white/10 border border-white/10 hover:bg-white/15 text-sm"
                  data-speed="2"
                >
                  2x
                </button>
                <button
                  class="speedBtn px-3 py-2 rounded-xl bg-white/10 border border-white/10 hover:bg-white/15 text-sm"
                  data-speed="4"
                >
                  4x
                </button>
                <button
                  class="speedBtn px-3 py-2 rounded-xl bg-white/10 border border-white/10 hover:bg-white/15 text-sm"
                  data-speed="8"
                >
                  8x
                </button>
              </div>
              <div class="mt-2 text-xs text-slate-400">
                ë¹ ë¥¼ìˆ˜ë¡ ëœ ì •í™•í•˜ì§€ë§Œ ë” ë¹¨ë¼ìš”.
              </div>
            </div>

            <div class="rounded-2xl bg-white/5 border border-white/10 p-4">
              <div class="text-sm font-semibold">ì¹¨ë¬µ ê¸°ì¤€</div>
              <div class="mt-2 flex items-center gap-2">
                <input
                  id="threshold"
                  type="range"
                  min="0.005"
                  max="0.08"
                  step="0.001"
                  value="0.02"
                  class="w-full"
                />
                <span
                  id="thresholdVal"
                  class="mono text-xs text-slate-200 w-16 text-right"
                  >0.020</span
                >
              </div>
              <div class="mt-2 text-xs text-slate-400">
                ë‚®ì¶”ë©´ â€œë§ì´ ì¡°ê¸ˆë§Œ ìˆì–´ë„â€ í•˜ì´ë¼ì´íŠ¸ë¡œ ì¡í˜€ìš”.
              </div>
            </div>

            <div class="rounded-2xl bg-white/5 border border-white/10 p-4">
              <div class="text-sm font-semibold">ìµœì†Œ êµ¬ê°„(ì´ˆ)</div>
              <div class="mt-2 flex items-center gap-2">
                <input
                  id="minSeg"
                  type="number"
                  min="1"
                  max="60"
                  value="3"
                  class="w-full rounded-xl bg-white/10 border border-white/10 px-3 py-2 text-sm outline-none"
                />
              </div>
              <div class="mt-2 text-xs text-slate-400">
                ë„ˆë¬´ ì§§ì€ êµ¬ê°„ì€ í•©ì³ì§€ê±°ë‚˜ ì œê±°ë¼ìš”.
              </div>
            </div>

            <div class="rounded-2xl bg-white/5 border border-white/10 p-4">
              <div class="text-sm font-semibold">íŒ¨ë”©(ì´ˆ)</div>
              <div class="mt-2 flex items-center gap-2">
                <input
                  id="pad"
                  type="number"
                  min="0"
                  max="2"
                  step="0.1"
                  value="0.25"
                  class="w-full rounded-xl bg-white/10 border border-white/10 px-3 py-2 text-sm outline-none"
                />
              </div>
              <div class="mt-2 text-xs text-slate-400">
                êµ¬ê°„ ì•ë’¤ë¡œ ì—¬ìœ ë¥¼ ì¤˜ì„œ ìì—°ìŠ¤ëŸ½ê²Œ.
              </div>
            </div>
          </div>

          <!-- Hidden video (for scan) -->
          <video id="video" class="hidden" playsinline></video>
        </div>
      </section>

      <!-- Hero -->
      <section class="mt-4">
        <div class="glass rounded-3xl p-6">
          <h1 class="text-2xl md:text-3xl font-extrabold tracking-tight">
            ì˜ìƒ ìë™ ì í”„ì»·/í•˜ì´ë¼ì´íŠ¸ ì¶”ì²œ
          </h1>
          <p class="mt-2 text-slate-300">
            ì´ ì„œë¹„ìŠ¤ëŠ” â€œì¹¨ë¬µ êµ¬ê°„â€ì„ ìŠ¤ìº”í•´ í•˜ì´ë¼ì´íŠ¸ íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ ë½‘ì•„ì¤˜ìš”.
          </p>
          <div class="mt-2 text-xs text-amber-200/90">
            ë¹„ìš©ì˜ ë¬¸ì œë¡œ ì™„ë²½í•˜ì§„ ì•Šì§€ë§Œ ì¸ì‚¬ì´íŠ¸Â·ì°¸ê³ ìš©ìœ¼ë¡  ì‚¬ìš©í•˜ì‹œë©´ ì¢‹ì„ ê²ƒ
            ê°™ì•„ìš”.
          </div>

          <div class="mt-4 text-xs text-slate-300 leading-relaxed space-y-1">
            <div>âœ… ì‡¼ì¸ ìš© êµ¬ê°„ ì¶”ì²œ</div>
            <div>âœ… êµ¬ê°„ ë¦¬ìŠ¤íŠ¸ í”Œë ˆì´</div>
            <div>âœ… íƒ€ì„ìŠ¤íƒ¬í”„/EDL ë‚´ë³´ë‚´ê¸°</div>
          </div>

          <div class="mt-5 rounded-2xl bg-white/5 border border-white/10 p-4">
            <div class="text-sm font-semibold">ë¹ ë¥¸ ì‚¬ìš©ë²•</div>
            <ol class="mt-2 text-sm text-slate-300 list-decimal ml-5 space-y-1">
              <li>ì˜ìƒ íŒŒì¼ ì—…ë¡œë“œ</li>
              <li>â€œìŠ¤ìº” ì‹œì‘â€ â†’ ìˆ¨ê²¨ì§„ ì¬ìƒìœ¼ë¡œ ìŒëŸ‰ì„ ì¸¡ì •</li>
              <li>í•˜ì´ë¼ì´íŠ¸ êµ¬ê°„ ë¦¬ìŠ¤íŠ¸ì—ì„œ ë°”ë¡œ ì¬ìƒ / ë³µì‚¬</li>
            </ol>
            <div class="mt-3 text-xs text-slate-400">
              â€» mp4 ì˜¤ë””ì˜¤ ë””ì½”ë”©ì€ ë¸Œë¼ìš°ì €/ì½”ë±ì— ë”°ë¼ ì œí•œë  ìˆ˜ ìˆì–´ìš”. ê·¸
              ê²½ìš° webmë¡œë„ ì‹œí—˜í•´ë³´ì„¸ìš”.
            </div>
          </div>
        </div>
      </section>

      <!-- Player + Results -->
      <section class="mt-4 grid lg:grid-cols-2 gap-4">
        <div class="glass rounded-3xl p-6">
          <div class="flex items-center justify-between">
            <h2 class="text-lg font-bold">ë¯¸ë¦¬ë³´ê¸° í”Œë ˆì´ì–´</h2>
            <div class="text-xs text-slate-400">êµ¬ê°„ í´ë¦­í•˜ë©´ ìë™ ì´ë™</div>
          </div>

          <div
            class="mt-4 rounded-2xl overflow-hidden border border-white/10 bg-black"
          >
            <video
              id="player"
              controls
              playsinline
              class="w-full aspect-video bg-black"
            ></video>
          </div>

          <div class="mt-4 flex flex-wrap gap-2">
            <button
              id="playAllBtn"
              disabled
              class="px-4 py-2 rounded-2xl bg-sky-500/20 border border-sky-400/30 hover:bg-sky-500/25 transition font-semibold disabled:opacity-40"
            >
              â–¶ï¸ êµ¬ê°„ ì´ì–´ë³´ê¸°
            </button>
            <button
              id="shuffleBtn"
              disabled
              class="px-4 py-2 rounded-2xl bg-violet-500/20 border border-violet-400/30 hover:bg-violet-500/25 transition font-semibold disabled:opacity-40"
            >
              ğŸ”€ ëœë¤ ìˆœì„œ
            </button>
            <button
              id="copyBtn"
              disabled
              class="px-4 py-2 rounded-2xl bg-white/10 border border-white/10 hover:bg-white/15 transition font-semibold disabled:opacity-40"
            >
              ğŸ“‹ íƒ€ì„ìŠ¤íƒ¬í”„ ë³µì‚¬
            </button>
            <button
              id="exportBtn"
              disabled
              class="px-4 py-2 rounded-2xl bg-white/10 border border-white/10 hover:bg-white/15 transition font-semibold disabled:opacity-40"
            >
              â¬‡ï¸ EDL ë‚´ë³´ë‚´ê¸°
            </button>
          </div>

          <div class="mt-4 rounded-2xl bg-white/5 border border-white/10 p-4">
            <div class="text-sm font-semibold">íŒ</div>
            <div class="mt-2 text-sm text-slate-300 leading-relaxed">
              â€œì¹¨ë¬µ ì œê±°â€ëŠ” ì‡¼ì¸ /í† í¬ ì˜ìƒì— íŠ¹íˆ ì¢‹ì•„ìš”.
              <span class="font-semibold text-slate-100">ë³µì‚¬í•œ íƒ€ì„ìŠ¤íƒ¬í”„</span
              >ëŠ” CapCut/í”„ë¦¬ë¯¸ì–´/ë‹¤ë¹ˆì¹˜ì—ì„œë„ ë°”ë¡œ ì°¸ê³ í•´ì„œ ì»· í¸ì§‘í•  ìˆ˜
              ìˆì–´ìš”.
            </div>
          </div>
        </div>

        <div class="glass rounded-3xl p-6">
          <div class="flex items-center justify-between">
            <h2 class="text-lg font-bold">í•˜ì´ë¼ì´íŠ¸ êµ¬ê°„</h2>
            <span
              id="segCount"
              class="text-xs px-3 py-1 rounded-full bg-white/10 border border-white/10 text-slate-200"
              >0ê°œ</span
            >
          </div>

          <div
            id="segments"
            class="mt-4 space-y-2 max-h-[420px] overflow-auto no-scrollbar pr-1"
          >
            <div
              class="rounded-2xl bg-white/5 border border-white/10 p-4 text-sm text-slate-300"
            >
              ì•„ì§ êµ¬ê°„ì´ ì—†ì–´ìš”. ì—…ë¡œë“œ í›„
              <span class="font-semibold text-slate-100">ìŠ¤ìº”</span>ì„
              ëˆŒëŸ¬ë³´ì„¸ìš”.
            </div>
          </div>

          <div class="mt-4 rounded-2xl bg-white/5 border border-white/10 p-4">
            <div class="text-sm font-semibold">â€œìš”ì•½/ë²ˆì—­/ë”ë¹™â€ì€?</div>
            <div class="mt-2 text-sm text-slate-300 leading-relaxed">
              ì¹¨ë¬µ êµ¬ê°„ì„ ì°¾ê³ , ì•„ë˜ì—
              <span class="font-semibold text-slate-100">ìë§‰ í…ìŠ¤íŠ¸</span>ë¥¼
              ë¶™ì—¬ë„£ìœ¼ë©´ ê°„ë‹¨í•œ ìš”ì•½/ì œëª©/í•´ì‹œíƒœê·¸ë¥¼ ì˜¤í”„ë¼ì¸ ê·œì¹™ìœ¼ë¡œ
              ë§Œë“¤ì–´ì¤˜ìš”.
            </div>

            <div class="mt-3">
              <label class="block text-sm text-slate-300 mb-2"
                >ëŒ€ë³¸/ìë§‰ í…ìŠ¤íŠ¸(ì„ íƒ)</label
              >
              <textarea
                id="transcript"
                rows="5"
                class="w-full rounded-2xl bg-white/10 border border-white/10 px-3 py-3 text-sm outline-none"
                placeholder="ì—¬ê¸°ì— ëŒ€ë³¸/ìë§‰ í…ìŠ¤íŠ¸ë¥¼ ë¶™ì—¬ë„£ìœ¼ë©´, ê°„ë‹¨ ìš”ì•½/ì œëª©/í•´ì‹œíƒœê·¸ë¥¼ ìë™ ìƒì„±í•´ìš”."
              ></textarea>

              <div class="mt-3 flex flex-wrap gap-2">
                <button
                  id="summarizeBtn"
                  class="px-4 py-2 rounded-2xl bg-amber-500/20 border border-amber-400/30 hover:bg-amber-500/25 transition font-semibold"
                >
                  âœ¨ ìš”ì•½/ì œëª© ìƒì„±
                </button>
                <button
                  id="clearTextBtn"
                  class="px-4 py-2 rounded-2xl bg-white/10 border border-white/10 hover:bg-white/15 transition font-semibold"
                >
                  ğŸ§½ í…ìŠ¤íŠ¸ ì§€ìš°ê¸°
                </button>
              </div>

              <div
                id="summaryBox"
                class="mt-3 hidden rounded-2xl bg-black/30 border border-white/10 p-4"
              >
                <div class="text-sm font-semibold">ìë™ ìƒì„± ê²°ê³¼</div>
                <div class="mt-2 text-sm text-slate-200">
                  <div class="text-slate-300 text-xs mb-1">ì œëª© í›„ë³´</div>
                  <div id="titleOut" class="font-semibold"></div>
                </div>
                <div class="mt-3 text-sm text-slate-200">
                  <div class="text-slate-300 text-xs mb-1">ìš”ì•½</div>
                  <div id="summaryOut" class="text-slate-200"></div>
                </div>
                <div class="mt-3 text-sm text-slate-200">
                  <div class="text-slate-300 text-xs mb-1">í•´ì‹œíƒœê·¸</div>
                  <div id="tagsOut" class="mono text-slate-200"></div>
                </div>
                <div class="mt-3 flex gap-2">
                  <button
                    id="copySummaryBtn"
                    class="px-3 py-2 rounded-xl bg-white/10 border border-white/10 hover:bg-white/15 text-sm font-semibold"
                  >
                    ğŸ“‹ ë³µì‚¬
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Footer -->
      <footer class="mt-8 text-center text-xs text-slate-400">
        <div class="opacity-90">Â© AutoCut Studio.</div>
      </footer>
    </main>

    <script>
      (() => {
        const $ = (id) => document.getElementById(id);

        const fileInput = $("fileInput");
        const fileSelectBtn = $("fileSelectBtn");
        const dropZone = $("dropZone");
        const fileMeta = $("fileMeta");
        const video = $("video");
        const player = $("player");

        const scanBtn = $("scanBtn");
        const stopBtn = $("stopBtn");
        const demoBtn = $("demoBtn");

        const progressBar = $("progressBar");
        const progressText = $("progressText");
        const timeText = $("timeText");
        const statusBadge = $("statusBadge");

        const threshold = $("threshold");
        const thresholdVal = $("thresholdVal");
        const minSeg = $("minSeg");
        const pad = $("pad");

        const segmentsEl = $("segments");
        const segCount = $("segCount");

        const playAllBtn = $("playAllBtn");
        const shuffleBtn = $("shuffleBtn");
        const copyBtn = $("copyBtn");
        const exportBtn = $("exportBtn");

        const transcriptEl = $("transcript");
        const summarizeBtn = $("summarizeBtn");
        const clearTextBtn = $("clearTextBtn");
        const summaryBox = $("summaryBox");
        const titleOut = $("titleOut");
        const summaryOut = $("summaryOut");
        const tagsOut = $("tagsOut");
        const copySummaryBtn = $("copySummaryBtn");

        let scanSpeed = 4;
        let stopFlag = false;
        let segments = [];
        let objectUrl = null;

        function setStatus(text, tone = "neutral") {
          statusBadge.textContent = text;
          statusBadge.className = "text-xs px-3 py-1 rounded-full border";
          if (tone === "ok")
            statusBadge.classList.add(
              "bg-emerald-500/20",
              "border-emerald-400/30",
              "text-emerald-100"
            );
          else if (tone === "warn")
            statusBadge.classList.add(
              "bg-amber-500/20",
              "border-amber-400/30",
              "text-amber-100"
            );
          else if (tone === "bad")
            statusBadge.classList.add(
              "bg-rose-500/20",
              "border-rose-400/30",
              "text-rose-100"
            );
          else
            statusBadge.classList.add(
              "bg-white/10",
              "border-white/10",
              "text-slate-200"
            );
        }

        function fmtTime(s) {
          s = Math.max(0, s);
          const hh = Math.floor(s / 3600);
          const mm = Math.floor((s % 3600) / 60);
          const ss = Math.floor(s % 60);
          const ms = Math.floor((s - Math.floor(s)) * 1000);
          const pad2 = (n) => String(n).padStart(2, "0");
          if (hh > 0) return `${hh}:${pad2(mm)}:${pad2(ss)}`;
          return `${mm}:${pad2(ss)}.${String(ms).padStart(3, "0")}`;
        }

        function clamp(v, a, b) {
          return Math.min(b, Math.max(a, v));
        }

        function resetUI() {
          progressBar.style.width = "0%";
          progressText.textContent = "0%";
          timeText.textContent = "â€”";
          stopBtn.disabled = true;
          scanBtn.disabled = false;
          playAllBtn.disabled = true;
          shuffleBtn.disabled = true;
          copyBtn.disabled = true;
          exportBtn.disabled = true;
        }

        function handleFile(file) {
          if (!file) return;
          if (file.type && !file.type.startsWith("video/")) {
            setStatus("ì˜ìƒ íŒŒì¼ë§Œ ì˜¬ë ¤ì¤˜", "warn");
            return;
          }

          if (fileInput) {
            const dt = new DataTransfer();
            dt.items.add(file);
            fileInput.files = dt.files;
          }

          if (objectUrl) URL.revokeObjectURL(objectUrl);
          objectUrl = URL.createObjectURL(file);

          video.src = objectUrl;
          player.src = objectUrl;

          segments = [];
          renderSegments();
          resetUI();
          setStatus("ì˜ìƒ ë¡œë“œë¨", "ok");

          fileMeta.textContent = `${file.name} Â· ${(
            file.size /
            1024 /
            1024
          ).toFixed(2)}MB`;
        }

        function renderSegments() {
          segCount.textContent = `${segments.length}ê°œ`;
          if (!segments.length) {
            segmentsEl.innerHTML = `
        <div class="rounded-2xl bg-white/5 border border-white/10 p-4 text-sm text-slate-300">
          ì•„ì§ êµ¬ê°„ì´ ì—†ì–´ìš”. ì—…ë¡œë“œ í›„ <span class="font-semibold text-slate-100">ìŠ¤ìº”</span>ì„ ëˆŒëŸ¬ë³´ì„¸ìš”.
        </div>`;
            playAllBtn.disabled = true;
            shuffleBtn.disabled = true;
            copyBtn.disabled = true;
            exportBtn.disabled = true;
            return;
          }

          playAllBtn.disabled = false;
          shuffleBtn.disabled = false;
          copyBtn.disabled = false;
          exportBtn.disabled = false;

          segmentsEl.innerHTML = segments
            .map((seg, idx) => {
              const dur = seg.end - seg.start;
              const label = seg.label || `Highlight ${idx + 1}`;
              return `
      <div class="rounded-2xl bg-white/5 border border-white/10 p-4 hover:bg-white/7 transition">
        <div class="flex items-start justify-between gap-3">
          <div>
            <div class="text-sm font-semibold">${label}</div>
            <div class="mt-1 text-xs text-slate-400 mono">
              ${fmtTime(seg.start)} â†’ ${fmtTime(
                seg.end
              )} <span class="text-slate-500">(${dur.toFixed(2)}s)</span>
            </div>
            <div class="mt-2 text-xs text-slate-300">${
              seg.note || "ì¹¨ë¬µì´ ì ê³  ì—ë„ˆì§€ê°€ ë†’ì€ êµ¬ê°„ìœ¼ë¡œ ì¶”ì •"
            }</div>
          </div>
          <div class="shrink-0 flex flex-col gap-2">
            <button data-i="${idx}" class="seekBtn px-3 py-2 rounded-xl bg-sky-500/20 border border-sky-400/30 hover:bg-sky-500/25 text-sm font-semibold">ì¬ìƒ</button>
            <button data-i="${idx}" class="copyOneBtn px-3 py-2 rounded-xl bg-white/10 border border-white/10 hover:bg-white/15 text-sm font-semibold">ë³µì‚¬</button>
          </div>
        </div>
      </div>`;
            })
            .join("");

          document.querySelectorAll(".seekBtn").forEach((btn) => {
            btn.addEventListener("click", () => {
              const i = Number(btn.dataset.i);
              const seg = segments[i];
              player.currentTime = seg.start;
              player.play().catch(() => {});
              // auto stop at end
              const onTime = () => {
                if (player.currentTime >= seg.end - 0.05) {
                  player.pause();
                  player.removeEventListener("timeupdate", onTime);
                }
              };
              player.addEventListener("timeupdate", onTime);
            });
          });

          document.querySelectorAll(".copyOneBtn").forEach((btn) => {
            btn.addEventListener("click", async () => {
              const i = Number(btn.dataset.i);
              const seg = segments[i];
              const line = `${i + 1}. ${fmtTime(seg.start)} - ${fmtTime(
                seg.end
              )} (${(seg.end - seg.start).toFixed(2)}s)`;
              await navigator.clipboard.writeText(line);
              setStatus("êµ¬ê°„ ë³µì‚¬ë¨", "ok");
              setTimeout(() => setStatus("ì¤€ë¹„ë¨", "neutral"), 900);
            });
          });
        }

        // Speed buttons
        document.querySelectorAll(".speedBtn").forEach((btn) => {
          btn.addEventListener("click", () => {
            scanSpeed = Number(btn.dataset.speed);
            document
              .querySelectorAll(".speedBtn")
              .forEach((b) => b.classList.remove("ring-2", "ring-white/40"));
            btn.classList.add("ring-2", "ring-white/40");
            setStatus(`ìŠ¤ìº” ì†ë„ ${scanSpeed}x`, "neutral");
          });
        });
        // default highlight speed 4x
        document
          .querySelector('.speedBtn[data-speed="4"]')
          .classList.add("ring-2", "ring-white/40");

        threshold.addEventListener(
          "input",
          () => (thresholdVal.textContent = Number(threshold.value).toFixed(3))
        );

        fileInput.addEventListener("change", () => {
          handleFile(fileInput.files?.[0]);
        });

        const dropClasses = [
          "ring-2",
          "ring-emerald-400/50",
          "border-emerald-400/60",
          "bg-emerald-500/10",
        ];

        function setDropActive(active) {
          if (!dropZone) return;
          dropClasses.forEach((cls) =>
            dropZone.classList[active ? "add" : "remove"](cls)
          );
        }

        ["dragenter", "dragover"].forEach((ev) => {
          dropZone?.addEventListener(ev, (e) => {
            e.preventDefault();
            setDropActive(true);
          });
        });
        ["dragleave", "drop"].forEach((ev) => {
          dropZone?.addEventListener(ev, (e) => {
            e.preventDefault();
            setDropActive(false);
          });
        });
        dropZone?.addEventListener("drop", (e) => {
          const file = e.dataTransfer?.files?.[0];
          handleFile(file);
        });
        dropZone?.addEventListener("click", () => fileInput?.click());
        fileSelectBtn?.addEventListener("click", (e) => {
          e.stopPropagation();
          fileInput?.click();
        });

        function getEnergyFromAnalyser(analyser) {
          const buf = new Uint8Array(analyser.fftSize);
          analyser.getByteTimeDomainData(buf);
          // RMS on normalized [-1,1]
          let sum = 0;
          for (let i = 0; i < buf.length; i++) {
            const v = (buf[i] - 128) / 128;
            sum += v * v;
          }
          return Math.sqrt(sum / buf.length);
        }

        function mergeSegments(raw, minLen) {
          if (!raw.length) return [];
          const out = [raw[0]];
          for (let i = 1; i < raw.length; i++) {
            const prev = out[out.length - 1];
            const cur = raw[i];
            // merge if gap is tiny
            if (cur.start <= prev.end + 0.15)
              prev.end = Math.max(prev.end, cur.end);
            else out.push(cur);
          }
          return out.filter((s) => s.end - s.start >= minLen);
        }

        function padSegments(segs, duration, p) {
          return segs.map((s, idx) => {
            const start = clamp(s.start - p, 0, duration);
            const end = clamp(s.end + p, 0, duration);
            return { ...s, start, end, label: `Highlight ${idx + 1}` };
          });
        }

        async function scanSilence() {
          const f = fileInput.files?.[0];
          if (!f) {
            setStatus("ì˜ìƒ íŒŒì¼ì„ ë¨¼ì € ì„ íƒí•´ì¤˜", "warn");
            return;
          }

          stopFlag = false;
          segments = [];
          renderSegments();

          scanBtn.disabled = true;
          stopBtn.disabled = false;
          setStatus("ìŠ¤ìº” ì¤‘â€¦", "neutral");

          // Ensure metadata loaded
          await new Promise((res, rej) => {
            const onLoaded = () => {
              video.removeEventListener("loadedmetadata", onLoaded);
              res();
            };
            const onErr = () => {
              rej(new Error("metadata load failed"));
            };
            video.addEventListener("loadedmetadata", onLoaded);
            video.addEventListener("error", onErr, { once: true });
            // in case already loaded
            if (!Number.isNaN(video.duration) && video.duration > 0) res();
          }).catch(() => {
            setStatus("ì˜ìƒ ë©”íƒ€ë°ì´í„°ë¥¼ ì½ì§€ ëª»í–ˆì–´", "bad");
            resetUI();
            return;
          });

          const duration = video.duration;
          if (!isFinite(duration) || duration <= 0) {
            setStatus("ì˜ìƒ ê¸¸ì´ë¥¼ í™•ì¸í•  ìˆ˜ ì—†ì–´", "bad");
            resetUI();
            return;
          }

          // WebAudio analyser
          const AudioCtx = window.AudioContext || window.webkitAudioContext;
          const ctx = new AudioCtx();
          const source = ctx.createMediaElementSource(video);
          const analyser = ctx.createAnalyser();
          analyser.fftSize = 2048;
          source.connect(analyser);
          analyser.connect(ctx.destination);

          // Scan settings
          const thr = Number(threshold.value);
          const minLen = Number(minSeg.value);
          const padSec = Number(pad.value);

          const step = 0.12; // sampling interval (sec) during scan
          const effectiveStep = step * scanSpeed; // because playback faster
          const totalSteps = Math.ceil(duration / effectiveStep);

          // We'll play muted to avoid sound.
          video.muted = true;
          video.playbackRate = scanSpeed;
          video.currentTime = 0;

          // Build active (non-silent) ranges
          let active = false;
          let curStart = 0;
          const raw = [];

          // Start playback
          await video.play().catch(() => {
            /* autoplay might fail until user interaction; but scan is user click so ok */
          });

          let i = 0;
          let lastTick = performance.now();

          // use a timer loop
          while (!stopFlag && video.currentTime < duration - 0.05) {
            // throttle sampling with requestAnimationFrame-ish
            await new Promise((r) => setTimeout(r, 80));
            const now = performance.now();
            if (now - lastTick < 80) continue;
            lastTick = now;

            const t = video.currentTime;
            const e = getEnergyFromAnalyser(analyser);

            if (e >= thr) {
              if (!active) {
                active = true;
                curStart = t;
              }
            } else {
              if (active) {
                active = false;
                raw.push({ start: curStart, end: t });
              }
            }

            i++;
            const pct = clamp((t / duration) * 100, 0, 100);
            progressBar.style.width = `${pct.toFixed(1)}%`;
            progressText.textContent = `${pct.toFixed(0)}%`;
            timeText.textContent = `${fmtTime(t)} / ${fmtTime(duration)}`;
          }

          // finalize
          video.pause();
          if (active)
            raw.push({
              start: curStart,
              end: Math.min(video.currentTime, duration),
            });

          // cleanup audio graph
          try {
            source.disconnect();
            analyser.disconnect();
          } catch {}
          try {
            await ctx.close();
          } catch {}

          if (stopFlag) {
            setStatus("ì¤‘ì§€ë¨", "warn");
            resetUI();
            return;
          }

          // Merge, filter, pad
          let out = mergeSegments(raw, minLen);
          out = padSegments(out, duration, padSec);

          // If too many tiny segments, keep top N by duration
          out.sort((a, b) => b.end - b.start - (a.end - a.start));
          if (out.length > 18) out = out.slice(0, 18);
          // Sort back by time
          out.sort((a, b) => a.start - b.start);

          // Add some notes based on "energy" heuristic
          out = out.map((s, idx) => ({
            ...s,
            note:
              s.end - s.start >= 10
                ? "ê¸¸ê³  ë°€ë„ ë†’ì€ êµ¬ê°„"
                : "ì§§ê³  ì„íŒ©íŠ¸ êµ¬ê°„",
            label: `Highlight ${idx + 1}`,
          }));

          segments = out;
          renderSegments();

          progressBar.style.width = "100%";
          progressText.textContent = "100%";
          timeText.textContent = `${fmtTime(duration)} / ${fmtTime(duration)}`;
          setStatus(
            segments.length
              ? "ì™„ë£Œ! í•˜ì´ë¼ì´íŠ¸ ìƒì„±ë¨"
              : "í•˜ì´ë¼ì´íŠ¸ë¥¼ ëª» ì°¾ì•˜ì–´ (ê¸°ì¤€ ì¡°ì •í•´ë´)",
            segments.length ? "ok" : "warn"
          );

          stopBtn.disabled = true;
          scanBtn.disabled = false;
        }

        scanBtn.addEventListener("click", scanSilence);
        stopBtn.addEventListener("click", () => {
          stopFlag = true;
          stopBtn.disabled = true;
        });

        demoBtn.addEventListener("click", () => {
          const dur = player.duration || 90;
          // simple demo segments
          segments = [
            { start: 3, end: 12, label: "Highlight 1", note: "ì˜¤í”„ë‹ í›… êµ¬ê°„" },
            { start: 18, end: 26, label: "Highlight 2", note: "ì„íŒ©íŠ¸ í•œë°©" },
            {
              start: 40,
              end: 58,
              label: "Highlight 3",
              note: "í•µì‹¬ ì „ê°œ êµ¬ê°„",
            },
            {
              start: Math.max(0, dur - 18),
              end: Math.max(0, dur - 3),
              label: "Highlight 4",
              note: "ì—”ë”©/ê²°ë¡  êµ¬ê°„",
            },
          ].filter((s) => s.end > s.start);
          renderSegments();
          setStatus("ë°ëª¨ êµ¬ê°„ ìƒì„±ë¨", "ok");
        });

        // Play all segments sequentially
        async function playSegments(list) {
          if (!segments.length) return;
          setStatus("êµ¬ê°„ ì´ì–´ë³´ê¸°", "neutral");
          for (const seg of list) {
            if (stopFlag) break;
            player.currentTime = seg.start;
            await player.play().catch(() => {});
            await new Promise((resolve) => {
              const onTime = () => {
                if (player.currentTime >= seg.end - 0.05) {
                  player.pause();
                  player.removeEventListener("timeupdate", onTime);
                  resolve();
                }
              };
              player.addEventListener("timeupdate", onTime);
            });
            // tiny gap
            await new Promise((r) => setTimeout(r, 150));
          }
          setStatus("ì¤€ë¹„ë¨", "ok");
          setTimeout(() => setStatus("ì¤€ë¹„ë¨", "neutral"), 800);
        }

        playAllBtn.addEventListener("click", async () => {
          stopFlag = false;
          await playSegments(segments);
        });

        shuffleBtn.addEventListener("click", async () => {
          stopFlag = false;
          const shuffled = [...segments].sort(() => Math.random() - 0.5);
          await playSegments(shuffled);
        });

        function timestampsText() {
          if (!segments.length) return "";
          const lines = segments.map(
            (s, i) =>
              `${i + 1}. ${fmtTime(s.start)} - ${fmtTime(s.end)}  (${(
                s.end - s.start
              ).toFixed(2)}s)`
          );
          return [
            "AutoCut Highlights",
            `Count: ${segments.length}`,
            "",
            ...lines,
            "",
            "Tip: Use these timestamps for jump cuts / shorts selection.",
          ].join("\n");
        }

        copyBtn.addEventListener("click", async () => {
          if (!segments.length) return;
          await navigator.clipboard.writeText(timestampsText());
          setStatus("íƒ€ì„ìŠ¤íƒ¬í”„ ë³µì‚¬ë¨", "ok");
          setTimeout(() => setStatus("ì¤€ë¹„ë¨", "neutral"), 900);
        });

        exportBtn.addEventListener("click", () => {
          if (!segments.length) return;
          const edl = [
            "TITLE: AutoCut Studio EDL",
            "FCM: NON-DROP FRAME",
            "",
            ...segments.map((s, i) => {
              // This is a simple â€œcomment EDLâ€ style, not full SMPTEâ€”good enough for reference.
              return `${String(i + 1).padStart(
                3,
                "0"
              )}  AX       V     C        ${fmtTime(s.start)} ${fmtTime(
                s.end
              )} ${fmtTime(s.start)} ${fmtTime(s.end)}\n* ${s.label}`;
            }),
          ].join("\n");

          const blob = new Blob([edl], { type: "text/plain;charset=utf-8" });
          const url = URL.createObjectURL(blob);
          const a = document.createElement("a");
          a.href = url;
          a.download = "autocut.edl.txt";
          document.body.appendChild(a);
          a.click();
          a.remove();
          URL.revokeObjectURL(url);
          setStatus("EDL ë‹¤ìš´ë¡œë“œë¨", "ok");
          setTimeout(() => setStatus("ì¤€ë¹„ë¨", "neutral"), 900);
        });

        // Transcript -> simple â€œofflineâ€ summary/title/tags (heuristic)
        function splitSentences(text) {
          return text
            .replace(/\s+/g, " ")
            .split(/(?<=[\.\?\!]|ë‹¤\.|ìš”\.|ë‹ˆë‹¤\.)\s+/)
            .map((s) => s.trim())
            .filter(Boolean);
        }

        function extractKeywords(text, topN = 8) {
          // super simple: count Korean/English words length>=2, remove common fillers
          const stop = new Set([
            "ê·¸ë¦¬ê³ ",
            "ê·¸ë˜ì„œ",
            "ê·¼ë°",
            "ê·¸ëŸ¬ë©´",
            "ì´ì œ",
            "ì§„ì§œ",
            "ì•½ê°„",
            "ê·¸ëƒ¥",
            "ë„ˆë¬´",
            "ì™„ì „",
            "ì˜¤ëŠ˜",
            "ì €ëŠ”",
            "ì œê°€",
            "ìš°ë¦¬ëŠ”",
            "ì—¬ëŸ¬ë¶„",
            "because",
            "and",
            "the",
            "with",
            "that",
            "this",
            "you",
            "your",
            "are",
            "but",
            "for",
            "from",
          ]);
          const words = (
            text.toLowerCase().match(/[ê°€-í£a-z0-9]{2,}/g) || []
          ).filter((w) => !stop.has(w));
          const freq = new Map();
          for (const w of words) freq.set(w, (freq.get(w) || 0) + 1);
          return [...freq.entries()]
            .sort((a, b) => b[1] - a[1])
            .slice(0, topN)
            .map((x) => x[0]);
        }

        summarizeBtn.addEventListener("click", () => {
          const t = transcriptEl.value.trim();
          if (!t) {
            setStatus("í…ìŠ¤íŠ¸ë¥¼ ë¶™ì—¬ë„£ìœ¼ë©´ ë” ì˜ ë‚˜ì™€", "warn");
            return;
          }
          const sents = splitSentences(t);
          const kws = extractKeywords(t, 10);

          // sentence scoring by keyword hits
          const scored = sents
            .map((s) => {
              let score = 0;
              for (const k of kws) if (s.toLowerCase().includes(k)) score += 2;
              score += Math.min(2, s.length / 80);
              return { s, score };
            })
            .sort((a, b) => b.score - a.score);

          const summary = scored
            .slice(0, 3)
            .map((x) => x.s)
            .join(" ");
          const title =
            kws
              .slice(0, 3)
              .map((k) => k.replace(/^\d+$/, ""))
              .filter(Boolean)
              .join(" ") || "ìš”ì  ì •ë¦¬";
          const tags = kws
            .slice(0, 8)
            .map((k) => `#${k.replace(/[^ê°€-í£a-z0-9]/g, "")}`)
            .join(" ");

          titleOut.textContent = `${title} | í•˜ì´ë¼ì´íŠ¸ ìš”ì•½`;
          summaryOut.textContent = summary || sents[0] || t.slice(0, 120);
          tagsOut.textContent = tags || "#shorts #highlight #autocut";

          summaryBox.classList.remove("hidden");
          setStatus("ìƒì„± ì™„ë£Œ", "ok");
          setTimeout(() => setStatus("ì¤€ë¹„ë¨", "neutral"), 900);
        });

        clearTextBtn.addEventListener("click", () => {
          transcriptEl.value = "";
          summaryBox.classList.add("hidden");
          setStatus("í…ìŠ¤íŠ¸ ì‚­ì œ", "neutral");
        });

        copySummaryBtn.addEventListener("click", async () => {
          const payload = [
            titleOut.textContent,
            "",
            summaryOut.textContent,
            "",
            tagsOut.textContent,
            "",
            "---",
            timestampsText(),
          ].join("\n");
          await navigator.clipboard.writeText(payload);
          setStatus("ìš”ì•½+íƒ€ì„ìŠ¤íƒ¬í”„ ë³µì‚¬ë¨", "ok");
          setTimeout(() => setStatus("ì¤€ë¹„ë¨", "neutral"), 900);
        });

        // Initial state
        thresholdVal.textContent = Number(threshold.value).toFixed(3);
        setStatus("ëŒ€ê¸°ì¤‘", "neutral");
        renderSegments();
        resetUI();
      })();
    </script>
  
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-1204894220949193"
     data-ad-slot="5145068706"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
    
</body>
</html>
